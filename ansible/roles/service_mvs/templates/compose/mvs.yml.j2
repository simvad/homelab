version: "3.8"
services:
  hercules:
    image: rattydave/docker-hercules:latest
    container_name: hercules-mvs
    ports:
      - "{{ mvs_console_port }}:3270"  # Hercules console
      - "{{ mvs_terminal_port }}:3505"  # 3270 terminal emulator
    volumes:
      - "{{ data_path }}/mvs:/opt/mvs"
    restart: unless-stopped
    environment:
      - CONF_FILE=unattended  # Use unattended mode
      - CPUSERIAL=000001      # CPU serial number
      - CPUMODEL=3033         # CPU model
      - TZ=UTC                # Timezone
    command: "/opt/mvs/mvs"
    labels:
      - "homelab.type=mvs"
      - "homelab.description=MVS 3.8j Mainframe Emulation"